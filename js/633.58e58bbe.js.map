{"version":3,"file":"js/633.58e58bbe.js","mappings":"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","sources":["webpack://homework02/./src/views/ArticlesView.vue","webpack://homework02/./src/components/ArticleModal.vue","webpack://homework02/./src/components/ArticleModal.vue?63dd","webpack://homework02/./src/views/ArticlesView.vue?c8f7"],"sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between align-items-center\">\n    <h1 class=\"my-3\">貼文列表</h1>\n    <div>\n      <button\n        class=\"btn btn-success\"\n        type=\"button\"\n        @click=\"this.$refs.modal.openModal(true, {})\"\n      >\n        新增貼文\n      </button>\n    </div>\n  </div>\n  <table class=\"table table-striped table-hover align-middle text-center\">\n    <thead class=\"bg-dark text-white\">\n      <tr>\n        <th>編號</th>\n        <th>標題</th>\n        <th>作者</th>\n        <th>貼文描述</th>\n        <th>建立日期</th>\n        <th>是否公開</th>\n        <th>編輯內容</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(article, index) in articles\" :key=\"'a' + index\">\n        <td class=\"fw-bold\">{{ index + 1 }}</td>\n        <td>{{ article.title }}</td>\n        <td>{{ article.author }}</td>\n        <td>{{ article.description }}</td>\n        <td>{{ new Date(article.create_at * 1000).toLocaleDateString() }}</td>\n        <td>\n          <span class=\"fw-bold\">公開狀態：</span>\n          <span v-if=\"article.isPublic\" class=\"text-success fw-bold\">\n            已公開\n          </span>\n          <span v-else class=\"text-muted\">\n            未公開\n          </span>\n        </td>\n        <td>\n          <div class=\"btn-group btn-group-sm\">\n            <button\n              class=\"btn btn-outline-primary\"\n              type=\"button\"\n              @click=\"getArticle(article.id)\"\n              :disabled=\"selectedItemId === article.id\"\n            >\n              修改\n            </button>\n            <button\n              class=\"btn btn-outline-danger\"\n              type=\"button\"\n              @click=\"this.$refs.deleteModal.openModal(article)\"\n              :disabled=\"selectedItemId === article.id\"\n            >\n              刪除\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <!-- Pagination Component -->\n  <div class=\"py-5\">\n    <PaginationComp\n      :pagination=\"pagination\"\n      @get-request=\"getArticles\"\n    ></PaginationComp>\n  </div>\n\n  <!-- ArticleModal Component -->\n  <ArticleModal\n    ref=\"modal\"\n    @post-article=\"postArticle\"\n    @put-article=\"putArticle\"\n  ></ArticleModal>\n\n  <!-- DeleteModal Component -->\n  <DeleteModal\n    ref=\"deleteModal\"\n    @del-item=\"deleteArticle\"\n  ></DeleteModal>\n</template>\n\n<script>\nimport ArticleModal from '@/components/ArticleModal.vue';\nimport PaginationComp from '@/components/PaginationComp.vue';\nimport DeleteModal from '@/components/DeleteModal.vue';\n\nexport default {\n  data() {\n    return {\n      articles: [],\n      pagination: {},\n      selectedItemId: '', // disabled 按鈕用\n      loader: {},\n    };\n  },\n  components: {\n    ArticleModal,\n    PaginationComp,\n    DeleteModal,\n  },\n  inject: ['emitter'],\n  methods: {\n    // 取得貼文列表\n    getArticles(page = 1) {\n      this.loader = this.$loading.show();\n      const apiUrl = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/articles/?page=${page}\n      `;\n      this.$http.get(apiUrl)\n        .then((res) => {\n          const { articles, pagination } = res.data;\n          this.articles = articles;\n          this.pagination = pagination;\n          this.loader.hide();\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '取得貼文',\n            content: err.response.data.message,\n          });\n          this.loader.hide();\n        });\n    },\n    // 取得單篇貼文 (貼文 content 打這支 api 才找得到)\n    getArticle(aid) {\n      const apiUrl = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/article/${aid}\n      `;\n      this.$http.get(apiUrl)\n        .then((res) => {\n          const { article } = res.data;\n          this.$refs.modal.openModal(false, article);\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '取得單篇貼文',\n            content: err.response.data.message,\n          });\n        });\n    },\n    // 新增貼文\n    postArticle(article) {\n      const apiUrl = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/article\n      `;\n      this.$http.post(apiUrl, { data: article })\n        .then((res) => {\n          this.$refs.modal.closeModal();\n          this.getArticles();\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '新增貼文',\n            content: res.data.message,\n          });\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '新增貼文',\n            content: err.response.data.message,\n          });\n        });\n    },\n    // 更新貼文\n    putArticle(aid, article) {\n      const apiUrl = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/article/${aid}\n      `;\n      this.$http.put(apiUrl, { data: article })\n        .then((res) => {\n          this.$refs.modal.closeModal();\n          this.getArticles();\n          this.emitter.emit('push-message', {\n            style: 'success',\n            title: '更新貼文',\n            content: res.data.message,\n          });\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '更新貼文',\n            content: err.response.data.message,\n          });\n        });\n    },\n    // 刪除貼文\n    deleteArticle(aid) {\n      const apiUrl = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/article/${aid}\n      `;\n      this.$http.delete(apiUrl)\n        .then((res) => {\n          console.log(res);\n          this.$refs.deleteModal.closeModal();\n          this.getArticles();\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '刪除貼文',\n            content: res.data.message,\n          });\n        })\n        .catch((err) => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '刪除貼文',\n            content: err.response.data.message,\n          });\n          this.$refs.deleteModal.closeModal();\n        });\n    },\n  },\n  mounted() {\n    this.getArticles();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\" ref=\"articleModal\" tabindex=\"-1\">\n    <div class=\"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable\">\n      <div class=\"modal-content border-0\">\n        <!-- isNewArticle Start -->\n        <div v-if=\"isNewArticle\">\n          <div class=\"modal-header bg-success\">\n            <h5 class=\"modal-title text-white\">\n              新增貼文\n            </h5>\n            <button type=\"button\" class=\"btn-close bg-white\"\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"\n            ></button>\n          </div>\n        </div>\n        <div v-else>\n          <div class=\"modal-header bg-primary\">\n            <h5 class=\"modal-title text-white\">\n              編輯貼文\n            </h5>\n            <button type=\"button\" class=\"btn-close bg-white\"\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"\n            ></button>\n          </div>\n        </div>\n        <!-- isNewArticle End -->\n        <!-- Article Content Start -->\n        <div class=\"modal-body\">\n          <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"article-title\">貼文標題</label>\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              id=\"article-title\"\n              v-model=\"article.title\"\n              placeholder=\"請輸入貼文標題\"\n              required\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"article-image\">貼文圖片</label>\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              id=\"article-image\"\n              v-model=\"article.imageUrl\"\n              placeholder=\"請輸入圖片網址\"\n              required\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"article-author\">作者</label>\n            <input\n              class=\"form-control\"\n              type=\"text\"\n              id=\"article-author\"\n              v-model=\"article.author\"\n              placeholder=\"請輸入作者名稱\"\n              required\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"article-post_date\">貼文建立日期</label>\n            <input\n              class=\"form-control\"\n              type=\"date\"\n              id=\"article-post_date\"\n              v-model=\"post_date\"\n              required\n            />\n          </div>\n          <!-- Tag Start -->\n          <div class=\"mb-3\">\n            <div v-if=\"Array.isArray(article.tag)\">\n              <div\n                class=\"mb-1\"\n                v-for=\"(tag, key) in article.tag\"\n                :key=\"'tag' + key\"\n              >\n                <div class=\"mb-3\">\n                  <label class=\"form-label\" for=\"article-tag\">新增標籤</label>\n                  <input\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"article-tag\"\n                    v-model=\"article.tag[key]\"\n                    placeholder=\"請輸入標籤\"\n                  />\n                </div>\n              </div>\n              <div v-if=\"\n                !article.tag.length || article.tag[article.tag.length - 1]\n              \">\n                <button class=\"btn btn-outline-primary\"\n                  @click=\"article.tag.push('')\">\n                  新增標籤\n                </button>\n              </div>\n              <div v-else>\n                <button class=\"btn btn-outline-danger\"\n                  @click=\"article.tag.pop('')\">\n                  刪除標籤\n                </button>\n              </div>\n            </div>\n            <div v-else>\n              <button class=\"btn btn-outline-primary\"\n                @click=\"createTags\">\n                新增標籤\n              </button>\n            </div>\n          </div>\n          <!-- Tag End -->\n          <div class=\"mb-3\">\n            <label class=\"form-label\" for=\"article-description\">貼文描述</label>\n            <textarea\n              class=\"form-control\"\n              type=\"text\"\n              id=\"article-description\"\n              v-model=\"article.description\"\n              placeholder=\"請輸入貼文描述\"\n            ></textarea>\n          </div>\n          <div class=\"mb-3\">\n            <!--\n              <p>貼文內容</p>\n              <ckeditor\n                :editor=\"editor\"\n                :config=\"editorConfig\"\n                v-model=\"article.content\"\n              ></ckeditor>\n            -->\n            <label class=\"form-label\" for=\"article-content\">貼文內容</label>\n            <textarea\n              class=\"form-control\"\n              type=\"text\"\n              id=\"article-content\"\n              v-model=\"article.content\"\n              placeholder=\"請輸入貼文描述\"\n            ></textarea>\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"form-check form-switch\">\n              <span class=\"fw-bold\">公開狀態：</span>\n              <input\n                class=\"form-check-input\"\n                type=\"checkbox\"\n                id=\"is-public\"\n                v-model=\"article.isPublic\"\n                required\n              />\n              <label v-if=\"article.isPublic\"\n                class=\"form-check-label text-success fw-bold\"\n                for=\"is-public\"\n              >\n                已公開\n              </label>\n              <label v-else\n                class=\"form-check-label text-muted\"\n                for=\"is-public\"\n              >\n                未公開\n              </label>\n            </div>\n          </div>\n        </div>\n        <!-- Article Content End -->\n        <!-- Post or Put Start -->\n        <div class=\"modal-footer\">\n          <div v-if=\"isNewArticle\">\n            <button\n              class=\"btn btn-success\"\n              type=\"button\"\n              @click=\"$emit('post-article', article)\"\n            >\n              確認新增\n            </button>\n          </div>\n          <div v-else>\n            <button\n              class=\"btn btn-primary\"\n              type=\"button\"\n              @click=\"$emit('put-article', article.id, article)\"\n            >\n              確認編輯\n            </button>\n          </div>\n          <button\n            class=\"btn btn-secondary\"\n            type=\"button\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n        </div>\n        <!-- Post or Put End -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n// import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nexport default {\n  data() {\n    return {\n      modal: {},\n      article: {\n        tag: [],\n      },\n      post_date: '',\n      isNewArticle: false,\n      // editor: ClassicEditor,\n      // editorConfig: {\n      //   toolbar: ['undo', 'redo', '|', 'bold', 'italic', '|',\n      //     'numberedList', 'bulletedList', 'link'],\n      // },\n    };\n  },\n  methods: {\n    openModal(isNewArticle, article) {\n      this.isNewArticle = isNewArticle;\n      if (isNewArticle) {\n        this.article = {};\n        this.post_date = '';\n      } else {\n        this.article = JSON.parse(JSON.stringify(article));\n        // 因 input type=\"date\" 只吃 YYYY-MM-DD 格式，所以改成用此方式抓時間\n        const dateAndTime = new Date(this.article.create_at * 1000).toISOString().split('T');\n        [this.post_date] = dateAndTime;\n      }\n      this.modal.show();\n    },\n    closeModal() {\n      this.modal.hide();\n    },\n    createTags() {\n      this.article.tag = [];\n      this.article.tag.push('');\n    },\n  },\n  watch: {\n    // 若 post_date 有變更將更新 this.article.create_at\n    post_date() {\n      this.article.create_at = Math.floor(new Date(this.post_date) / 1000);\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.articleModal, {\n      backdrop: 'static',\n      keyboard: false,\n    });\n  },\n};\n</script>\n","import { render } from \"./ArticleModal.vue?vue&type=template&id=f832a278\"\nimport script from \"./ArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\@六角學院\\\\Vue3-Spring-2022\\\\Hex_Vue_Week7\\\\homework02\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ArticlesView.vue?vue&type=template&id=69ab9170\"\nimport script from \"./ArticlesView.vue?vue&type=script&lang=js\"\nexport * from \"./ArticlesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\@六角學院\\\\Vue3-Spring-2022\\\\Hex_Vue_Week7\\\\homework02\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","type","onClick","$refs","modal","openModal","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","article","index","key","_toDisplayString","title","author","description","Date","create_at","toLocaleDateString","_hoisted_6","isPublic","$options","id","disabled","_hoisted_10","deleteModal","_hoisted_11","_createVNode","_component_PaginationComp","pagination","onGetRequest","_component_ArticleModal","ref","onPostArticle","onPutArticle","_component_DeleteModal","onDelItem","tabindex","_hoisted_5","_hoisted_8","for","_hoisted_7","_hoisted_9","_hoisted_12","$event","placeholder","required","_hoisted_14","imageUrl","_hoisted_16","_hoisted_18","Array","isArray","tag","_hoisted_20","_hoisted_22","length","_hoisted_24","push","_hoisted_25","pop","_hoisted_26","_hoisted_28","_hoisted_30","content","_hoisted_33","_hoisted_37","_ctx","_hoisted_38","_hoisted_39","data","post_date","isNewArticle","methods","this","JSON","parse","stringify","dateAndTime","toISOString","split","show","closeModal","hide","createTags","watch","Math","floor","mounted","Modal","articleModal","backdrop","keyboard","__exports__","articles","selectedItemId","loader","components","ArticleModal","PaginationComp","DeleteModal","inject","getArticles","page","$loading","apiUrl","$http","get","then","res","catch","err","emitter","emit","style","response","message","getArticle","aid","postArticle","post","putArticle","put","deleteArticle","delete","console","log","render"],"sourceRoot":""}